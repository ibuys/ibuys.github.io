<!DOCTYPE html>
<html lang="en-US">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="stylesheet" href="style.css">
    <link rel="canonical" href="https://jonathanbuys.com/">
    <link rel="icon" type="image/png" href="icon.png">
    <meta property="og:site_name" content="jb">
    <meta property="og:url" content="https://jonathanbuys.com/">
    <meta property="og:title" content="Install Gems Without sudo in macOS - jb">
    <meta property="og:description" content="Some day I won't be able to do this. Today is not that day.">    
	<title>Install Gems Without sudo in macOS - jb</title>
</head>

<body>
  <div class="layout">
	<header>
		<a href="/">JB…</a>
		<p><a href="/archive.html">Archive</a></p>
	</header>

	<main>



		<article>
		<h1>Install Gems Without sudo in macOS</h1>
		    <p>I came across a neat little command line tool via <a href="https://robservatory.com/see-sensor-stats-in-terminal/">Rob Griffiths' Robservatory</a> this morning, a Ruby gem named iStats[^1]. Install is easy enough in Rob's example, <code>sudo gem install iStats</code>, except that when you use <code>sudo</code> to install gems you are using the default macOS Ruby, and installing to system paths. </p>
<p>{% highlight bash %}
➜  ~ /usr/bin/gem environment                          <br />
RubyGems Environment:
RUBYGEMS VERSION: 2.0.14.1
RUBY VERSION: 2.0.0 (2015-12-16 patchlevel 648) [universal.x86_64-darwin16]
INSTALLATION DIRECTORY: /Library/Ruby/Gems/2.0.0
RUBY EXECUTABLE: /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/bin/ruby
EXECUTABLE DIRECTORY: /usr/local/bin
RUBYGEMS PLATFORMS:
    ruby
    universal-darwin-16
GEM PATHS:
    /Library/Ruby/Gems/2.0.0
    /Users/jonathanbuys/.gem/ruby/2.0.0
    /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/gems/2.0.0
GEM CONFIGURATION:
    :update_sources =&gt; true
    :verbose =&gt; true
    :backtrace =&gt; false
    :bulk_threshold =&gt; 1000
REMOTE SOURCES:
    https://rubygems.org/
{% endhighlight %}</p>
<p>While that <em>might</em> be fine, my personal preference is to keep the core system as close to default as possible. I once ran into an issue keeping <a href="https://jekyllrb.com">Jekyll</a> up to date,  so now I use the excellent <a href="https://brew.sh">Homebrew</a> to install an updated version of Ruby and keep the gems in <code>/usr/local</code>, which is entirely mine and safe to write to. </p>
<p><code>brew install ruby</code></p>
<p>Also, I make sure that <code>/usr/local/bin</code> is called before <code>/usr/bin</code> in my shells PATH variable.</p>
<p><code>export PATH=/usr/local/bin:~/Unix/bin/:$PATH</code></p>
<p>Now I can call <code>gem install iStats</code> and the gems will be installed safely, keeping my core system clean and my gems easily updatable. </p>
<p>[^1]:   As Rob points out, this is apparently not associated with <a href="https://bjango.com/mac/istatmenus/">iStat Menus</a>.</p>
		</article>

	</main>
  </div>
	<footer>
		<p><a href="/" class="menu">Home</a> <a href='/about'>About</a></p>		
	</footer>
</body>
</html>


