<!DOCTYPE html>
<html lang="en-US">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="stylesheet" href="style.css">
    <link rel="canonical" href="https://jonathanbuys.com/">
    <link rel="icon" type="image/png" href="icon.png">
    <meta property="og:site_name" content="jb">
    <meta property="og:url" content="https://jonathanbuys.com/">
    <meta property="og:title" content="Starting a New Post With Automator - jb">
    <meta property="og:description" content="Some day I won't be able to do this. Today is not that day.">    
	<title>Starting a New Post With Automator - jb</title>
</head>

<body>
  <div class="layout">
	<header>
		<a href="/">JBâ€¦</a>
		<p><a href="/archive.html">Archive</a></p>
	</header>

	<main>



		<article>
		<h1>Starting a New Post With Automator</h1>
		    <p>Automator is one of my favorite tools on the Mac, and unfortunately one of the most unappreciated. I have several workflows and services that I've built up over the years, things that I could have turned to a third-party tool like Keyboard Maestro, Alfred, or even my beloved Quicksilver for, but I like the simplicity of using a built-in application. </p>
<p>My "New Post" workflow is a simple example of using Automator to mix GUI elements with a shell script. There are only two actions. The first uses the "Ask for Text" action to prompt for a post title, and the second uses the "Run Shell Script" action to run this bit of bash: </p>
<pre><code>NAME=`echo $* | sed s/\ /_/g`
POSTNAME=`date "+%Y-%m-%d"-$NAME`
POST_FQN=~/Public/Site/_posts/$POSTNAME.markdown
POST_DATE=`date "+%Y-%m-%d %H:%M:%S"`
touch $POST_FQN

echo "---" &gt;&gt;$POST_FQN
echo "title: $*" &gt;&gt; $POST_FQN
echo "date: $POST_DATE" &gt;&gt; $POST_FQN
echo "tags: " &gt;&gt; $POST_FQN
echo "---" &gt;&gt; $POST_FQN


/usr/bin/open $POST_FQN
</code></pre>
<p>The first line removes spaces from the title passed to it from the Ask for Text action and replaces them with underscores so I can use the title as the URL slug. The second line adds the creation date[^1] to the file name, and the third creates a full path to the file. The fourth line simply creates an empty file with the correct naming scheme for my site generator tool. </p>
<p>The collection of <code>echo</code> statements on the next few lines add YAML frontmatter to the post, a bit of residual formatting from the sites Jekyll roots. Finally, I use the Mac's <code>open</code> command to start my favorite text editor, normally MacVim, and start writing. </p>
<p>Using Automator can be frustrating at times, especially when there is no action for something you think there should be an action for, but for manipulating text and mixing in scripting, it's not bad.  </p>
<p>[^1]: With apologies to Matt Gemmell. I've not yet committed to removing the ugly cruft from my URLs.</p>
		</article>

	</main>
  </div>
	<footer>
		<p><a href="/" class="menu">Home</a> <a href='/about'>About</a></p>		
	</footer>
</body>
</html>


